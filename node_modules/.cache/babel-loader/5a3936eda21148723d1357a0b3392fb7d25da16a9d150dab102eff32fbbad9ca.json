{"ast":null,"code":"import React,{useState,useRef}from\"react\";import{Editor,EditorState,RichUtils,Modifier,convertToRaw,convertFromRaw}from\"draft-js\";import\"draft-js/dist/Draft.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const customStyleMap={RED:{color:\"red\"}};const DraftEditor=()=>{const[editorState,setEditorState]=useState(()=>{const savedContent=localStorage.getItem(\"draftContent\");return savedContent?EditorState.createWithContent(convertFromRaw(JSON.parse(savedContent))):EditorState.createEmpty();});const[title,setTitle]=useState(()=>{const savedTitle=localStorage.getItem(\"Title\");return savedTitle?JSON.parse(savedTitle):\"\";});const editorRef=useRef(null);const focusEditor=()=>{editorRef.current&&editorRef.current.focus();};const handleChange=e=>{setTitle(e.target.value);};const handleSave=()=>{const contentState=editorState.getCurrentContent();const rawContent=convertToRaw(contentState);localStorage.setItem(\"Title\",JSON.stringify(title));localStorage.setItem(\"draftContent\",JSON.stringify(rawContent));alert(\"Content saved successfully!\");};const handleBeforeInput=chars=>{const contentState=editorState.getCurrentContent();const selection=editorState.getSelection();const blockKey=selection.getStartKey();const blockText=contentState.getBlockForKey(blockKey).getText();if(chars===\" \"){if(blockText===\"#\"){const newContentState=Modifier.replaceText(contentState,selection.merge({anchorOffset:0,focusOffset:1}),\"\");const updatedEditorState=EditorState.push(editorState,newContentState,\"remove-range\");setEditorState(RichUtils.toggleBlockType(updatedEditorState,\"header-one\"));return\"handled\";}if(blockText===\"*\"){const newContentState=Modifier.replaceText(contentState,selection.merge({anchorOffset:0,focusOffset:1}),\"\");const updatedEditorState=EditorState.push(editorState,newContentState,\"remove-range\");setEditorState(RichUtils.toggleInlineStyle(updatedEditorState,\"BOLD\"));return\"handled\";}if(blockText===\"**\"){const newContentState=Modifier.replaceText(contentState,selection.merge({anchorOffset:0,focusOffset:2}),\"\");const updatedEditorState=EditorState.push(editorState,newContentState,\"remove-range\");setEditorState(RichUtils.toggleInlineStyle(updatedEditorState,\"RED\"));// Use toggleInlineStyle\nreturn\"handled\";}if(blockText===\"***\"){const newContentState=Modifier.replaceText(contentState,selection.merge({anchorOffset:0,focusOffset:3}),\"\");const updatedEditorState=EditorState.push(editorState,newContentState,\"remove-range\");setEditorState(RichUtils.toggleInlineStyle(updatedEditorState,\"UNDERLINE\"));return\"handled\";}}return\"not-handled\";};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:handleChange,placeholder:\"Enter Title\",style:styles.titleInput}),/*#__PURE__*/_jsx(\"div\",{style:styles.editorContainer,onClick:focusEditor,children:/*#__PURE__*/_jsx(Editor,{ref:editorRef,editorState:editorState,onChange:setEditorState,handleBeforeInput:handleBeforeInput,placeholder:\"Type here...\",customStyleMap:customStyleMap})}),/*#__PURE__*/_jsx(\"button\",{style:styles.saveButton,onClick:handleSave,children:\"Save\"})]});};// Styles\nconst styles={container:{padding:\"20px\",fontFamily:\"Arial, sans-serif\",maxWidth:\"800px\",margin:\"0 auto\"},titleInput:{width:\"100%\",fontSize:\"1.5rem\",padding:\"10px\",marginBottom:\"20px\",border:\"1px solid #ccc\",borderRadius:\"5px\"},editorContainer:{border:\"1px solid #ddd\",minHeight:\"300px\",padding:\"10px\",cursor:\"text\",borderRadius:\"5px\"},saveButton:{marginTop:\"20px\",padding:\"10px 20px\",fontSize:\"16px\",backgroundColor:\"#007BFF\",color:\"#fff\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\"}};export default DraftEditor;","map":{"version":3,"names":["React","useState","useRef","Editor","EditorState","RichUtils","Modifier","convertToRaw","convertFromRaw","jsx","_jsx","jsxs","_jsxs","customStyleMap","RED","color","DraftEditor","editorState","setEditorState","savedContent","localStorage","getItem","createWithContent","JSON","parse","createEmpty","title","setTitle","savedTitle","editorRef","focusEditor","current","focus","handleChange","e","target","value","handleSave","contentState","getCurrentContent","rawContent","setItem","stringify","alert","handleBeforeInput","chars","selection","getSelection","blockKey","getStartKey","blockText","getBlockForKey","getText","newContentState","replaceText","merge","anchorOffset","focusOffset","updatedEditorState","push","toggleBlockType","toggleInlineStyle","style","styles","container","children","type","onChange","placeholder","titleInput","editorContainer","onClick","ref","saveButton","padding","fontFamily","maxWidth","margin","width","fontSize","marginBottom","border","borderRadius","minHeight","cursor","marginTop","backgroundColor"],"sources":["E:/Draft.js/Editor/src/components/DraftEditor.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport {\r\n  Editor,\r\n  EditorState,\r\n  RichUtils,\r\n  Modifier,\r\n  convertToRaw,\r\n  convertFromRaw,\r\n} from \"draft-js\";\r\nimport \"draft-js/dist/Draft.css\";\r\n\r\nconst customStyleMap = {\r\n  RED: { color: \"red\" },\r\n};\r\n\r\nconst DraftEditor = () => {\r\n  const [editorState, setEditorState] = useState(() => {\r\n    const savedContent = localStorage.getItem(\"draftContent\");\r\n    return savedContent\r\n      ? EditorState.createWithContent(convertFromRaw(JSON.parse(savedContent)))\r\n      : EditorState.createEmpty();\r\n  });\r\n  const [title, setTitle] = useState(() => {\r\n    const savedTitle = localStorage.getItem(\"Title\");\r\n    return savedTitle ? JSON.parse(savedTitle) : \"\";\r\n  });\r\n\r\n  const editorRef = useRef(null);\r\n\r\n  const focusEditor = () => {\r\n    editorRef.current && editorRef.current.focus();\r\n  };\r\n  const handleChange = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n  const handleSave = () => {\r\n    const contentState = editorState.getCurrentContent();\r\n    const rawContent = convertToRaw(contentState);\r\n    localStorage.setItem(\"Title\", JSON.stringify(title));\r\n    localStorage.setItem(\"draftContent\", JSON.stringify(rawContent));\r\n    alert(\"Content saved successfully!\");\r\n  };\r\n\r\n  const handleBeforeInput = (chars) => {\r\n    const contentState = editorState.getCurrentContent();\r\n    const selection = editorState.getSelection();\r\n    const blockKey = selection.getStartKey();\r\n    const blockText = contentState.getBlockForKey(blockKey).getText();\r\n\r\n    if (chars === \" \") {\r\n      if (blockText === \"#\") {\r\n        const newContentState = Modifier.replaceText(\r\n          contentState,\r\n          selection.merge({ anchorOffset: 0, focusOffset: 1 }),\r\n          \"\"\r\n        );\r\n        const updatedEditorState = EditorState.push(\r\n          editorState,\r\n          newContentState,\r\n          \"remove-range\"\r\n        );\r\n        setEditorState(\r\n          RichUtils.toggleBlockType(updatedEditorState, \"header-one\")\r\n        );\r\n        return \"handled\";\r\n      }\r\n\r\n      if (blockText === \"*\") {\r\n        const newContentState = Modifier.replaceText(\r\n          contentState,\r\n          selection.merge({ anchorOffset: 0, focusOffset: 1 }),\r\n          \"\"\r\n        );\r\n        const updatedEditorState = EditorState.push(\r\n          editorState,\r\n          newContentState,\r\n          \"remove-range\"\r\n        );\r\n        setEditorState(RichUtils.toggleInlineStyle(updatedEditorState, \"BOLD\"));\r\n        return \"handled\";\r\n      }\r\n\r\n      if (blockText === \"**\") {\r\n        const newContentState = Modifier.replaceText(\r\n          contentState,\r\n          selection.merge({ anchorOffset: 0, focusOffset: 2 }),\r\n          \"\"\r\n        );\r\n        const updatedEditorState = EditorState.push(\r\n          editorState,\r\n          newContentState,\r\n          \"remove-range\"\r\n        );\r\n        setEditorState(RichUtils.toggleInlineStyle(updatedEditorState, \"RED\")); // Use toggleInlineStyle\r\n        return \"handled\";\r\n      }\r\n\r\n      if (blockText === \"***\") {\r\n        const newContentState = Modifier.replaceText(\r\n          contentState,\r\n          selection.merge({ anchorOffset: 0, focusOffset: 3 }),\r\n          \"\"\r\n        );\r\n        const updatedEditorState = EditorState.push(\r\n          editorState,\r\n          newContentState,\r\n          \"remove-range\"\r\n        );\r\n        setEditorState(\r\n          RichUtils.toggleInlineStyle(updatedEditorState, \"UNDERLINE\")\r\n        );\r\n        return \"handled\";\r\n      }\r\n    }\r\n\r\n    return \"not-handled\";\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <input\r\n        type=\"text\"\r\n        value={title}\r\n        onChange={handleChange}\r\n        placeholder=\"Enter Title\"\r\n        style={styles.titleInput}\r\n      />\r\n      <div style={styles.editorContainer} onClick={focusEditor}>\r\n        <Editor\r\n          ref={editorRef}\r\n          editorState={editorState}\r\n          onChange={setEditorState}\r\n          handleBeforeInput={handleBeforeInput}\r\n          placeholder=\"Type here...\"\r\n          customStyleMap={customStyleMap}\r\n        />\r\n      </div>\r\n      <button style={styles.saveButton} onClick={handleSave}>\r\n        Save\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Styles\r\nconst styles = {\r\n  container: {\r\n    padding: \"20px\",\r\n    fontFamily: \"Arial, sans-serif\",\r\n    maxWidth: \"800px\",\r\n    margin: \"0 auto\",\r\n  },\r\n  titleInput: {\r\n    width: \"100%\",\r\n    fontSize: \"1.5rem\",\r\n    padding: \"10px\",\r\n    marginBottom: \"20px\",\r\n    border: \"1px solid #ccc\",\r\n    borderRadius: \"5px\",\r\n  },\r\n  editorContainer: {\r\n    border: \"1px solid #ddd\",\r\n    minHeight: \"300px\",\r\n    padding: \"10px\",\r\n    cursor: \"text\",\r\n    borderRadius: \"5px\",\r\n  },\r\n  saveButton: {\r\n    marginTop: \"20px\",\r\n    padding: \"10px 20px\",\r\n    fontSize: \"16px\",\r\n    backgroundColor: \"#007BFF\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"5px\",\r\n    cursor: \"pointer\",\r\n  },\r\n};\r\n\r\nexport default DraftEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}